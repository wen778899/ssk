# .htaccess for React App with a /backend/api directory

<IfModule mod_rewrite.c>
  RewriteEngine On

  # Set the base of the rewrite rules to the root of the application
  RewriteBase /

  # --- API EXCEPTION RULE ---
  # Do not apply the next rule if the request is for the /backend/api/ directory
  RewriteCond %{REQUEST_URI} !^/backend/api/

  # --- STANDARD SPA ROUTING RULES ---
  # If the request is not for an existing file
  RewriteCond %{REQUEST_FILENAME} !-f
  # And the request is not for an existing directory
  RewriteCond %{REQUEST_FILENAME} !-d
  # Then rewrite the request to index.html for the React app to handle
  RewriteRule . /index.html [L]

</IfModule>
